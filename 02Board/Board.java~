public class Board{
    
    public int Board(int n){
	if (n<=0){
	    throw new InvalidArgumentException();
	}
	if (n<3){
	    return 1;
	}
	
        int[][] grid=new int[n][n];
	for(int row=0; row<n; row++){
	    for(int col=0; col<n; row++){
		grid[row][col]=0;
	    }
	}

	int[] data=new int[n];
	int max=0;
	
	for(int vert=0; vert<n; vert++){
	    data.add(gridH(n,vert,0,0,0));
	}

	for (int count=0; count<n; count++){
	    if (data[count]>max){
		max=data[count];
	    }
	}
	return max;
    }

    public int gridH(int n, int[][] grid, int row, int col,int total){
	if (n<3){
	    return 1;
	}
	int[row][col]=2
	    ;
	for (int r=row; r<grid.length(); r++){
	    if(grid[r][col]!=2){
		grid[r][col]=1;
	    }
	}
	for (int c=col; c<grid[].length(); c++){
	    if(grid[row][c]!=2){
		grid[row][c]=1;
	    }
	}

	for (int d=row; d<grid.length(); d++){
	    if(grid[d][d]!=2){
		grid[d][d]=1;
	    }
	}
	
	for(int rl=row+1; rl<n; rl++){
	    for(int cl=1; cl<n; cl++){
		if (grid[rl][cl]==0){
		    gridH(n, grid, rl, cl, total+1);
		}
	    }
	}
	return total;
    }
}
    
	    
